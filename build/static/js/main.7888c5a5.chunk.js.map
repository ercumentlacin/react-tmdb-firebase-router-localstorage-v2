{"version":3,"sources":["contexts/reducer.js","contexts/StateProvider.js","layout/styles.js","firebase/firebase.js","components/NavItem/styles.js","components/NavItem/index.js","components/Orders/styles.js","components/Orders/index.js","components/SearchBox/styles.js","components/SearchBox/index.js","components/Navigation/styles.js","components/Navigation/index.js","components/Button/styles.js","components/Button/index.js","components/Card/styles.js","components/Card/index.js","components/PageHeading/styles.js","components/PageHeading/index.js","pages/Home/styles.js","pages/Home/index.js","components/SubTotal/styles.js","components/OrderCard/styles.js","components/SubTotal/index.js","pages/Orders/styles.js","components/OrderProduct/styles.js","components/OrderProduct/index.js","pages/Orders/index.js","pages/Login/styles.js","pages/Login/index.js","pages/Payment/styles.js","axios.js","pages/Payment/index.js","components/Orderss/styles.js","components/Orderss/index.js","pages/OnOrders/styles.js","pages/OnOrders/index.js","layout/index.js","index.js"],"names":["getBasketTotal","basket","reduce","amount","item","price","reducer","state","action","type","index","findIndex","basketItem","id","newBasket","splice","console","warn","user","StateContext","createContext","StateProvider","initialState","children","Provider","value","useReducer","useStateValue","useContext","App","styled","div","firebaseConfig","apiKey","process","authDomain","REACT_APP_AUTH_DOMAIN","databaseURL","projectId","storageBucket","messagingSenderId","REACT_APP_MESSAGÄ°NG_SENDER_ID","appId","db","firebase","initializeApp","firestore","auth","StyledLi","li","NavItem","url","name","icon","handleAuthentication","className","onClick","to","StyledOrders","span","Orders","orderCount","StyledForm","form","SearchBox","onSubmit","e","preventDefault","alt","Navigation","header","history","useHistory","log","signOut","push","length","StyledButton","button","Button","addToBasket","StyledCard","props","backdrop_path","Card","movie","dispatch","title","vote_average","popularity","release_date","vote_count","alert","StyledPageHeading","h1","PageHeading","StyledHome","section","Home","useState","movies","setMovies","useEffect","fetch","then","response","json","result","results","catch","error","map","StyledSubTotal","SubTotal","renderText","decimalScale","displayType","thousandsSeparator","prefix","StyledOrderProduct","OrderProduct","src","email","Dropdown","Divider","StyledLogin","Login","setEmail","password","setPassword","signIn","signInWithEmailAndPassword","message","placeholder","onChange","target","htmlFor","href","createUserWithEmailAndPassword","StyledPayment","instance","axios","create","baseURL","Payment","succeeded","setSucceeded","processing","setProcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","a","method","data","getClientSecret","stripe","useStripe","elements","useElements","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","empty","StyledOrderss","Orderss","order","moment","unix","format","StyledOnOrders","OnOrders","onOrders","setOnOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","onAuthStateChanged","authUser","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7888c5a5.chunk.js","sourcesContent":["export const initialState = {\r\n  basket: [],\r\n  user: null,\r\n};\r\n\r\nexport const getBasketTotal = (basket) => {\r\n  return basket?.reduce((amount, item) => item.price + amount, 0);\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n    case \"REMOVE_FROM_BASKET\":\r\n      const index = state.basket.findIndex(\r\n        (basketItem) => basketItem.id === action.id\r\n      );\r\n      let newBasket = [...state.basket];\r\n\r\n      if (index >= 0) {\r\n        newBasket.splice(index, 1);\r\n      } else {\r\n        console.warn(\r\n          `Cant remove product (id: ${action.id}) as its not in basket!`\r\n        );\r\n      }\r\n      return {\r\n        ...state,\r\n        basket: newBasket,\r\n      };\r\n\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n\r\n    case \"EMPTY_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import styled from \"styled-components\";\r\n\r\nconst App = styled.div`\r\n  * {\r\n    box-sizing: border-box;\r\n  }\r\n  display: flex;\r\n\r\n  header + section {\r\n    flex: 1;\r\n  }\r\n  a {\r\n    color: white;\r\n    transition: all 250ms ease;\r\n    text-decoration: none;\r\n  }\r\n  a:hover {\r\n    color: #ffe852;\r\n  }\r\n`;\r\n\r\nexport default {\r\n  App,\r\n};\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firebase-firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGÄ°NG_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const db = firebaseApp.firestore();\r\nexport const auth = firebase.auth();\r\n\r\nexport default firebase;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledLi = styled.li`\r\n  list-style: none;\r\n  display: flex;\r\n\r\n  &:hover {\r\n    background-color: #212529;\r\n    transition: all 250ms ease;\r\n  }\r\n\r\n  a {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 1rem 0;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { StyledLi } from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NavItem = ({ url, name, icon, handleAuthentication }) => {\r\n  return (\r\n    <StyledLi className=\"nav__item\">\r\n      {name === \"Sign out\" ? (\r\n        <Link onClick={handleAuthentication} to=\"/\">\r\n          {icon ? <i className={`${icon} mr-3`}></i> : null}\r\n          <span>{name}</span>\r\n        </Link>\r\n      ) : (\r\n        <Link to={`${url}`}>\r\n          {icon ? <i className={`${icon} mr-3`}></i> : null}\r\n          <span>{name}</span>\r\n        </Link>\r\n      )}\r\n    </StyledLi>\r\n  );\r\n};\r\n\r\nexport default NavItem;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledOrders = styled.span`\r\n  list-style: none;\r\n  display: flex;\r\n  padding-left: 30px;\r\n\r\n  &:hover {\r\n    background-color: #212529;\r\n    transition: all 250ms ease;\r\n  }\r\n\r\n  a {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 1rem 0;\r\n  }\r\n\r\n  .order__icon {\r\n    position: relative;\r\n\r\n    &__count {\r\n      position: absolute;\r\n      background: white;\r\n      top: -1ch;\r\n      left: 1ch;\r\n      zoom: 1;\r\n      width: 20px;\r\n      height: 20px;\r\n      display: block;\r\n      padding-bottom: 1px;\r\n      line-height: 15px;\r\n      text-align: center;\r\n      border-radius: 10px;\r\n      color: black;\r\n      font-weight: 700;\r\n      border: 2px solid #121212;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { StyledOrders } from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Orders = ({ url, name, icon, orderCount }) => {\r\n  return (\r\n    <StyledOrders>\r\n      <Link to={`${url}`}>\r\n        <span className=\"order\">\r\n          <span className=\"order__icon\">\r\n            {icon ? <i className={`${icon} mr-3`}></i> : null}\r\n            <span className=\"order__icon__count\">{orderCount}</span>\r\n          </span>\r\n        </span>\r\n        <span>{name}</span>\r\n      </Link>\r\n    </StyledOrders>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 30px;\r\n\r\n  &:hover {\r\n    background-color: #212529;\r\n    transition: all 250ms ease;\r\n\r\n    i {\r\n      color: #ffe852;\r\n    }\r\n  }\r\n\r\n  button {\r\n    border: 0;\r\n    outline: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color: transparent;\r\n    color: white;\r\n  }\r\n  input {\r\n    border: 0;\r\n    outline: 0;\r\n    width: 120px;\r\n    border-radius: 3px;\r\n    padding-left: 10px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { StyledForm } from \"./styles\";\r\n\r\nconst SearchBox = ({ name, icon }) => {\r\n  return (\r\n    <StyledForm className=\"py-3\" onSubmit={(e) => e.preventDefault()}>\r\n      <button type=\"submit\">\r\n        {icon ? <i className={`${icon} mr-3`}></i> : null}\r\n      </button>\r\n      <input type=\"search\" name={`${name}`} id={`${name}`} alt=\"search\" />\r\n    </StyledForm>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import styled from \"styled-components\";\r\n\r\nconst Navigation = styled.header`\r\n  min-height: 100vh;\r\n  width: 200px;\r\n  background-color: #121212;\r\n  color: white;\r\n\r\n  .nav {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &__brand {\r\n      display: flex;\r\n      justify-content: center;\r\n      padding: 60px 0;\r\n      width: 100%;\r\n    }\r\n    ul {\r\n        padding-left: 0;\r\n      width: 100%;\r\n\r\n      li {\r\n        width: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        padding-left: 30px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default {\r\n  Navigation,\r\n};\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useStateValue } from \"../../contexts/StateProvider\";\r\nimport { auth } from \"../../firebase/firebase\";\r\nimport NavItem from \"../NavItem\";\r\nimport Orders from \"../Orders\";\r\nimport SearchBox from \"../SearchBox\";\r\nimport Styles from \"./styles\";\r\n// Components\r\n\r\nconst Navigation = () => {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const history = useHistory();\r\n  console.log(user);\r\n  const handleAuthentication = () => {\r\n    if (user) {\r\n      auth.signOut();\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n  return (\r\n    <Styles.Navigation>\r\n      <nav className=\"nav\">\r\n        <div className=\"nav__brand\">\r\n          <Link to=\"/\">E-MovieDB</Link>\r\n        </div>\r\n        <ul>\r\n          <NavItem url={\"/\"} name={\"Home\"} icon={\"fas fa-home\"} />\r\n          <NavItem\r\n            url={\"/popular\"}\r\n            name={\"Popular\"}\r\n            icon={\"fas fa-chart-line\"}\r\n          />\r\n          <SearchBox name={\"search\"} icon={\"fas fa-search\"} />\r\n          {console.log(user)}\r\n          {!user ? (\r\n            <NavItem\r\n              url={\"/sign-in\"}\r\n              name={\"Sign in\"}\r\n              icon={\"fas fa-sign-in-alt\"}\r\n            />\r\n          ) : (\r\n            <NavItem\r\n              url={\"/sign-out\"}\r\n              name={\"Sign out\"}\r\n              icon={\"fas fa-sign-out-alt\"}\r\n              handleAuthentication={handleAuthentication}\r\n            />\r\n          )}\r\n          <Orders\r\n            url={\"/orders\"}\r\n            name={\"Orders\"}\r\n            icon={\"fas fa-shopping-basket\"}\r\n            orderCount={basket?.length}\r\n          />\r\n        </ul>\r\n        <div className=\"border-top my-3 w-75 mx-auto bg-secondary\"></div>\r\n      </nav>\r\n    </Styles.Navigation>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledButton = styled.button`\r\n  border: none;\r\n  outline: none;\r\n  background-color: #ffc107;\r\n  display: inline-block;\r\n  padding: 3px 5px;\r\n  margin-top: 2rem;\r\n  border-radius: 3px;\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n\r\n  &:hover {\r\n    background-color: #ffcf3d;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { StyledButton } from \"./styles\";\r\n\r\nconst Button = ({ addToBasket }) => {\r\n  return <StyledButton onClick={addToBasket}>Add to Basket</StyledButton>;\r\n};\r\n\r\nexport default Button;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledCard = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 220px;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  position: relative;\r\n\r\n  .card__hover {\r\n    display: none;\r\n    font-size: 1rem;\r\n    color: #ffffff !important;\r\n    font-family: sans-serif;\r\n    text-align: center;\r\n    margin: auto;\r\n    z-index: 5;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    height: 50px;\r\n  }\r\n\r\n  &:hover .card__hover,\r\n  &:focus .card__hover {\r\n    display: block;\r\n  }\r\n\r\n  &:hover .card__main,\r\n  &:focus .card__main {\r\n    -ms-transform: scale(1.2);\r\n    -moz-transform: scale(1.2);\r\n    -webkit-transform: scale(1.2);\r\n    -o-transform: scale(1.2);\r\n    transform: scale(1.2);\r\n    h4,\r\n    .card__price {\r\n      display: none;\r\n    }\r\n  }\r\n  &:hover .card__main:before,\r\n  &:focus .card__main:before {\r\n    display: block;\r\n    h4,\r\n    .card__price {\r\n      display: none;\r\n    }\r\n  }\r\n  .card__main {\r\n    background: ${(props) =>\r\n      `linear-gradient(rgb(0 0 0 / 0%),rgb(0 0 0 / 25%)),url(https://www.themoviedb.org/t/p/w220_and_h330_face${props.backdrop_path}) no-repeat top center`};\r\n    width: 220px;\r\n    height: 330px;\r\n    border-radius: 3px;\r\n    padding: 8px;\r\n    transition: all 0.5s;\r\n\r\n    &:before {\r\n      content: \"\";\r\n      display: none;\r\n      height: 100%;\r\n      width: 100%;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      background-color: rgba(52, 73, 94, 0.75);\r\n    }\r\n  }\r\n\r\n  a {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &:hover {\r\n      color: white;\r\n    }\r\n\r\n    h4 {\r\n      margin-top: auto;\r\n      font-size: 1rem;\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"../../contexts/StateProvider\";\r\nimport Button from \"../Button\";\r\nimport { StyledCard } from \"./styles\";\r\n\r\nconst Card = ({ movie }) => {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  if (!movie) {\r\n    const backdrop_path = \"/fQq1FWp1rC89xDrRMuyFJdFUdMd.jpg\";\r\n    const title = \"test\";\r\n    const vote_average = 10;\r\n    return (\r\n      <StyledCard title={title} backdrop_path={backdrop_path}>\r\n        <Link className=\"card__main\" to={\"/product\"}>\r\n          <h4>{title}</h4>\r\n          <span className=\"card__price\">\r\n            price: <strong>{vote_average * 10} TL</strong>\r\n          </span>\r\n          <span className=\"card__hover\">{title}</span>\r\n        </Link>\r\n        <Button onClick={addToBasket} />\r\n      </StyledCard>\r\n    );\r\n  }\r\n  const {\r\n    backdrop_path,\r\n    popularity,\r\n    release_date,\r\n    title,\r\n    vote_average,\r\n    vote_count,\r\n    id,\r\n  } = movie;\r\n\r\n  const addToBasket = () => {\r\n    alert(\"Ã¼rÃ¼n sepete eklendi\");\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item: {\r\n        id,\r\n        title,\r\n        backdrop_path,\r\n        price: vote_average * 10,\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <StyledCard title={title} backdrop_path={backdrop_path}>\r\n      <Link className=\"card__main\" to={\"/product\"}>\r\n        <h4>{title}</h4>\r\n        <span className=\"card__price\">\r\n          price: <strong>{vote_average * 10} TL</strong>\r\n        </span>\r\n        <span className=\"card__hover\">{title}</span>\r\n      </Link>\r\n      <Button addToBasket={addToBasket} />\r\n    </StyledCard>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledPageHeading = styled.h1`\r\n  padding: 40px 0;\r\n  color: #727272;\r\n`;\r\n","import React from \"react\";\r\nimport { StyledPageHeading } from \"./styles\";\r\n\r\nconst PageHeading = ({ name }) => {\r\n  return <StyledPageHeading>{name}</StyledPageHeading>;\r\n};\r\n\r\nexport default PageHeading;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledHome = styled.section`\r\n  background-color: #121212;\r\n\r\n  > section {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\r\n    grid-row-gap: 2rem;\r\n    place-items: center;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Card from \"../../components/Card\";\r\nimport PageHeading from \"../../components/PageHeading\";\r\nimport { StyledHome } from \"./styles\";\r\n\r\nconst Home = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  useEffect(() => {\r\n    const URL = process.env.REACT_APP_TMDB_API;\r\n    fetch(`https://api.themoviedb.org/3/movie/top_rated?api_key=${URL}`)\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        setMovies(result.results);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  }, []);\r\n  return (\r\n    <StyledHome>\r\n      <PageHeading name={\"Home\"} />\r\n      <section>\r\n        {movies.length > 1 &&\r\n          movies?.map((movie) => {\r\n            return <Card movie={movie} key={movie.id} />;\r\n          })}\r\n      </section>\r\n    </StyledHome>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledSubTotal = styled.div`\r\n  padding: 0 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const OrderCardStyle = styled.div`\r\n  width: 70%;\r\n  padding-right: 1rem;\r\n  .order__card__main {\r\n    display: flex !important;\r\n    flex-direction: row !important;\r\n\r\n    img {\r\n      height: 200px;\r\n    }\r\n\r\n    .order__card__info {\r\n      color: #bfbfbf;\r\n      display: flex !important;\r\n      flex-direction: column !important;\r\n      margin-left: 2rem;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { StyledSubTotal } from \"./styles\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport Button from \"../Button\";\r\nimport { useStateValue } from \"../../contexts/StateProvider\";\r\nimport { getBasketTotal } from \"../../contexts/reducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SubTotal = () => {\r\n  const history = useHistory();\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  return (\r\n    <StyledSubTotal className=\"subtotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <>\r\n            <p>\r\n              Subtotal ({basket?.length} items):\r\n              <strong>{value} TL</strong>\r\n            </p>\r\n            <small className=\"subtotal__gift\">\r\n              <input type=\"checkbox\" /> This order contains a gift\r\n            </small>\r\n          </>\r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)}\r\n        displayType={\"text\"}\r\n        thousandsSeparator={true}\r\n        prefix={\"\"}\r\n      />\r\n      <button onClick={(e) => history.push(\"/payment\")}>\r\n        Proced to Checkout\r\n      </button>\r\n    </StyledSubTotal>\r\n  );\r\n};\r\n\r\nexport default SubTotal;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledOrders = styled.section`\r\n  background-color: #121212;\r\n  > .order__item {\r\n    display: flex !important;\r\n    justify-content: space-between;\r\n    flex-direction: row !important;\r\n    align-items: flex-start !important;\r\n    color: #bfbfbf;\r\n\r\n    .dropdown-divider {\r\n      height: 2px;\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  > section {\r\n    display: flex !important;\r\n    flex-direction: column !important;\r\n    align-items: flex-start !important;\r\n    color: #bfbfbf;\r\n\r\n    .dropdown-divider {\r\n      height: 2px;\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  button {\r\n    border: none;\r\n    outline: none;\r\n    background-color: #ffc107;\r\n    display: inline-block;\r\n    padding: 3px 0.5rem;\r\n    margin-bottom: 2rem;\r\n    border-radius: 3px;\r\n    font-weight: 700;\r\n    font-size: 12px;\r\n\r\n    &:hover {\r\n      background-color: #ffcf3d;\r\n    }\r\n  }\r\n\r\n  .order__item__list {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\r\n    grid-row-gap: 2rem;\r\n    place-items: center;\r\n    width: 100%;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledOrderProduct = styled.div`\r\n  button {\r\n    border: none;\r\n    outline: none;\r\n    background-color: #ffc107;\r\n    display: inline-block;\r\n    padding: 3px 0.5rem;\r\n    margin-bottom: 2rem;\r\n    border-radius: 3px;\r\n    font-weight: 700;\r\n    font-size: 12px;\r\n\r\n    &:hover {\r\n      background-color: #ffcf3d;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { useStateValue } from \"../../contexts/StateProvider\";\r\nimport { StyledOrderProduct } from \"./styles\";\r\n\r\nconst OrderProduct = ({ id, backdrop_path, title, price }) => {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  const removeFromBasket = () => {\r\n    dispatch({\r\n      type: \"REMOVE_FROM_BASKET\",\r\n      id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <StyledOrderProduct>\r\n      <img\r\n        src={`https://www.themoviedb.org/t/p/w220_and_h330_face${backdrop_path}`}\r\n        alt={title}\r\n      />\r\n      <div className=\"orderProduct__info\">\r\n        <p className=\"orderProduct__title\">{title}</p>\r\n        <p className=\"orderProduct__price\">\r\n          <strong>{price}</strong>\r\n          <small>TL</small>\r\n        </p>\r\n        <button onClick={removeFromBasket}>Remove From Basket</button>\r\n      </div>\r\n    </StyledOrderProduct>\r\n  );\r\n};\r\n\r\nexport default OrderProduct;\r\n","import React from \"react\";\r\nimport Card from \"../../components/Card\";\r\nimport OrderCard from \"../../components/OrderCard\";\r\nimport PageHeading from \"../../components/PageHeading\";\r\nimport SubTotal from \"../../components/SubTotal\";\r\nimport { StyledOrders } from \"./styles\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport { useStateValue } from \"../../contexts/StateProvider\";\r\nimport OrderProduct from \"../../components/OrderProduct\";\r\n\r\nconst Orders = () => {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  return (\r\n    <StyledOrders>\r\n      <PageHeading name={\"Orders\"} />\r\n      <h3 className=\"text-muted mb-4\">\r\n        Hello, {user?.email || \"it's time to sign up and shop.\"}\r\n      </h3>\r\n      <section className=\"order__item\">\r\n        <div className=\"order__item__list\">\r\n          {basket?.map((item, index) => (\r\n            <OrderProduct\r\n              key={index}\r\n              id={item.id}\r\n              title={item.title}\r\n              price={item.price}\r\n              backdrop_path={item.backdrop_path}\r\n            />\r\n          ))}\r\n        </div>\r\n        <SubTotal />\r\n      </section>\r\n      <Dropdown.Divider className=\"my-3\" />\r\n    </StyledOrders>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledLogin = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n  align-items: center;\r\n  background: #121212;\r\n  color: white;\r\n\r\n  form {\r\n    width: 23rem;\r\n    padding: 3rem;\r\n    border-radius: 1rem;\r\n    background: #212529;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { auth } from \"../../firebase/firebase\";\r\nimport { StyledLogin } from \"./styles\";\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const signIn = (e) => {\r\n    e.preventDefault();\r\n\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  const register = (e) => {\r\n    e.preventDefault();\r\n\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        if (auth) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  return (\r\n    <StyledLogin>\r\n      <form onSubmit={signIn}>\r\n        <h3>Sign in</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <div className=\"custom-control custom-checkbox\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"custom-control-input\"\r\n              id=\"customCheck1\"\r\n            />\r\n            <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\r\n              Remember me\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-dark btn-lg btn-block\"\r\n          onClick={signIn}\r\n        >\r\n          Sign in\r\n        </button>\r\n        <p className=\"forgot-password text-right mt-3\">\r\n          Forgot <a href=\"#\">password?</a>\r\n        </p>\r\n        <button onClick={register} className=\"btn btn-warning btn-lg btn-block\">\r\n          Crate Account\r\n        </button>\r\n      </form>\r\n    </StyledLogin>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledPayment = styled.div`\r\n  padding: 2rem;\r\n  background-color: #121212;\r\n  display: flex !important;\r\n  justify-content: space-between;\r\n  flex-direction: row !important;\r\n  align-items: flex-start !important;\r\n  color: #bfbfbf;\r\n  width: 100%;\r\n\r\n  .payment__container {\r\n    width: 100%;\r\n\r\n    h1 {\r\n      text-align: center;\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n\r\n  .payment__section {\r\n    background: #212529;\r\n    padding: 1rem;\r\n    margin: 1rem 0;\r\n    border-radius: 1rem;\r\n  }\r\n\r\n  .payment__items {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\r\n    grid-row-gap: 2rem;\r\n    place-items: center;\r\n  }\r\n\r\n  p {\r\n    margin: 0;\r\n  }\r\n  h3 {\r\n    border-bottom: 2px solid #bfbfbf26;\r\n    padding-bottom: 0.4rem;\r\n  }\r\n`;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"http://localhost:5001/react-ecommerce-aae81/us-central1/api\",\r\n});\r\n\r\nexport default instance;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport OrderProduct from \"../../components/OrderProduct\";\r\nimport { useStateValue } from \"../../contexts/StateProvider\";\r\nimport { StyledPayment } from \"./styles\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getBasketTotal } from \"../../contexts/reducer\";\r\nimport axios from \"../../axios\";\r\nimport firebase, { db } from \"../../firebase/firebase\";\r\n\r\nconst Payment = () => {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [processing, setProcessing] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getClientSecret = async () => {\r\n      const response = await axios({\r\n        method: \"post\",\r\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`,\r\n      });\r\n      setClientSecret(response.data.clientSecret);\r\n    };\r\n    getClientSecret();\r\n  }, [basket]);\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  console.log(\"secret\", clientSecret);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setProcessing(true);\r\n\r\n    // baÅaramadÄ±k\r\n    // const test = firebase.firestore().collection(\"notes\").add({\r\n    //   title: \"Working\",\r\n    //   body: \"This is to check the Integration is working\",\r\n    // });\r\n\r\n    const payload = await stripe\r\n      .confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      })\r\n      .then(({ paymentIntent }) => {\r\n        db.collection(\"users\")\r\n          .doc(user?.uid)\r\n          .collection(\"orders\")\r\n          .doc(paymentIntent.id)\r\n          .set({\r\n            basket,\r\n            amount: paymentIntent.amount,\r\n            created: paymentIntent.created,\r\n          });\r\n\r\n        setSucceeded(true);\r\n        setError(null);\r\n        setProcessing(false);\r\n\r\n        dispatch({\r\n          type: \"EMPTY_BASKET\",\r\n        });\r\n\r\n        history.replace(\"/on-orders\");\r\n      });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setDisabled(e.empty);\r\n    setError(e.error ? e.error.message : \"\");\r\n  };\r\n\r\n  return (\r\n    <StyledPayment className=\"payment\">\r\n      <div className=\"payment__container\">\r\n        <h1>\r\n          Checkout ( <Link to=\"/orders\">{basket?.length} items</Link> )\r\n        </h1>\r\n        {/* ADRESS */}\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Delivery Address</h3>\r\n          </div>\r\n          <div className=\"payment__address\">\r\n            <p>{user?.email}</p>\r\n            <p>AtatÃ¼rk Mahallesi</p>\r\n            <p>Ankara, TÃ¼rkiye</p>\r\n          </div>\r\n        </div>\r\n        {/* REVIEW ITEMS */}\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Review items and delivery</h3>\r\n          </div>\r\n          <div className=\"payment__items\">\r\n            {basket?.map((item, index) => (\r\n              <OrderProduct\r\n                key={index}\r\n                id={item.id}\r\n                title={item.title}\r\n                price={item.price}\r\n                backdrop_path={item.backdrop_path}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        {/* PAYMENT METHOD */}\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Payment Method</h3>\r\n          </div>\r\n          <div className=\"payment__details\">\r\n            <form onSubmit={handleSubmit}>\r\n              <CardElement onChange={handleChange} />\r\n\r\n              <div className=\"payment__priceContainer\">\r\n                <CurrencyFormat\r\n                  renderText={(value) => <h3>Oerder Total: {value || 0} TL</h3>}\r\n                  decimalScale={2}\r\n                  value={getBasketTotal(basket)}\r\n                  displayType={\"text\"}\r\n                  thousandsSeparator={true}\r\n                  prefix={\"\"}\r\n                />\r\n                <button\r\n                  className=\"btn btn-warning\"\r\n                  disabled={processing || disabled || succeeded}\r\n                >\r\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                </button>\r\n              </div>\r\n              {error && <div>{error}</div>}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </StyledPayment>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledOrderss = styled.div`\r\n  .onOrders {\r\n    margin-top: 1rem;\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\r\n    grid-row-gap: 2rem;\r\n    place-items: center;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport OrderProduct from \"../OrderProduct\";\r\nimport { StyledOrderss } from \"./styles\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nconst Orderss = ({ order }) => {\r\n  return (\r\n    <StyledOrderss>\r\n      <h2>Order</h2>\r\n      <p>{moment.unix(order?.data?.created).format(\"MMMM Do YYYY, h:mma\")}</p>\r\n      <p className=\"order__id\">\r\n        <small>{order.id}</small>\r\n      </p>\r\n      <div className=\"onOrders\">\r\n        {order?.data?.basket?.map((item, index) => (\r\n          <OrderProduct\r\n            key={index}\r\n            id={item.id}\r\n            title={item.title}\r\n            price={item.price}\r\n            backdrop_path={item.backdrop_path}\r\n          />\r\n        ))}\r\n      </div>\r\n      <CurrencyFormat\r\n        renderText={(value) => <h3>Order Total: {value || 0} TL</h3>}\r\n        decimalScale={2}\r\n        value={order?.data?.amount / 100}\r\n        displayType={\"text\"}\r\n        thousandsSeparator={true}\r\n        prefix={\"\"}\r\n      />\r\n    </StyledOrderss>\r\n  );\r\n};\r\n\r\nexport default Orderss;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledOnOrders = styled.div`\r\n  padding: 2rem;\r\n  background-color: #121212;\r\n  display: flex !important;\r\n  justify-content: space-between;\r\n  flex-direction: column !important;\r\n  align-items: flex-start !important;\r\n  color: #bfbfbf;\r\n  width: 100%;\r\n\r\n  .orders_order {\r\n    width: 100%;\r\n  }\r\n  p {\r\n    margin: 0;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Orderss from \"../../components/Orderss\";\r\nimport { useStateValue } from \"../../contexts/StateProvider\";\r\nimport { db } from \"../../firebase/firebase\";\r\nimport { StyledOnOrders } from \"./styles\";\r\n\r\nconst OnOrders = () => {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const [onOrders, setOnOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      db.collection(\"users\")\r\n        .doc(user?.uid)\r\n        .collection(\"orders\")\r\n        .orderBy(\"created\", \"desc\")\r\n        .onSnapshot((snapshot) => {\r\n          setOnOrders(\r\n            snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              data: doc.data(),\r\n            }))\r\n          );\r\n        });\r\n    } else {\r\n      setOnOrders([]);\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <StyledOnOrders>\r\n      <h1 className=\"mx-auto\">Your On-Orders</h1>\r\n      <div className=\"orders_order\">\r\n        {onOrders?.map((order) => (\r\n          <Orderss order={order} />\r\n        ))}\r\n      </div>\r\n    </StyledOnOrders>\r\n  );\r\n};\r\n\r\nexport default OnOrders;\r\n","import React, { useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Styles from \"./styles\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n// Components\r\nimport Navigation from \"../components/Navigation\";\r\nimport Home from \"../pages/Home/index\";\r\nimport Orders from \"../pages/Orders\";\r\nimport Login from \"../pages/Login\";\r\nimport { auth } from \"../firebase/firebase\";\r\nimport { useStateValue } from \"../contexts/StateProvider\";\r\nimport Payment from \"../pages/Payment\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport OnOrders from \"../pages/OnOrders\";\r\n\r\nconst promise = loadStripe(`${process.env.REACT_APP_STRAPI_API}`);\r\n\r\nconst App = () => {\r\n  const [{ user }, dispatch] = useStateValue();\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((authUser) => {\r\n      console.log(`THEN USER IS >>> ${authUser}`, authUser);\r\n\r\n      if (authUser) {\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          user: authUser,\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          user: null,\r\n        });\r\n      }\r\n    });\r\n  }, [user]);\r\n  return (\r\n    <Styles.App>\r\n      <Router>\r\n        <Navigation />\r\n        <Switch>\r\n          <Route exact path=\"/sign-in\" component={Login} />\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/orders\" component={Orders} />\r\n          <Route exact path=\"/on-orders\" component={OnOrders} />\r\n          <Route exact path=\"/payment\">\r\n            <Elements stripe={promise}>\r\n              <Payment />\r\n            </Elements>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </Styles.App>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport reducer, { initialState } from \"./contexts/reducer\";\r\nimport { StateProvider } from \"./contexts/StateProvider\";\r\nimport App from \"./layout/\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StateProvider initialState={initialState} reducer={reducer}>\r\n      <App />\r\n    </StateProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}